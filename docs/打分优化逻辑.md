# ETF 动量轮动策略 - 可行性分析与回测报告

**日期**: 2026-01-24
**执行人**: Antigravity AI

## 1. 项目背景
目标是基于 Excel 提供的精选 ETF 列表 (`ETF合并筛选结果.xlsx`)，开发一套自动化的每日 Top 10 选基策略，并验证其在历史行情中的表现。

## 2. 策略演进与验证
我们要回答的核心问题是：**"只在精选池里挑" vs "在全市场挑"，哪种更好？**

我们进行了三组严格的回测（区间：2024-09-01 至今）：

### C. 评分逻辑对比 (Scoring Strategies)

我们对比了包含长期维度 (R60-R250) 的"原始评分"与仅包含短期维度 (R1-R20) 的"客户指定评分"。

| 评分方案     | 维度包含       | 相关权重总分 | **总收益 (11-01起)** | 评价                  |
| :----------- | :------------- | :----------- | :------------------- | :-------------------- |
| **原始方案** | **R1 到 R250** | 300分        | **+149.9%**          | **🏆 略优** (趋势更稳) |
| 客户方案     | R1 到 R20      | 270分        | +148.5%              | **极佳** (捕捉波动快) |
| 短期方案     | R1 到 R5       | 220分        | +124.5%              | 收益明显下降          |
| 偏长期方案   | R5 到 R60      | 250分        | +96.5%               | 系统性跑输            |

**因果解释 (为何原始方案略好)：**
1.  **"趋势锚点"作用**：R60/R120/R250 分数虽然占比不高（仅30分/10%），但它们起到了"长趋势锚点"的作用。
2.  **过滤"超跌反弹"**：如果一只 ETF 只有 1-3 天暴涨（R1-R3极高），但长期处于下降通道（R250极低），原始方案会由于长周期不得分而使其总分难以跨过 150 分门槛，从而**过滤掉具有误导性的死猫跳**。
3.  **核心结论**：短周期 (R1-R20) 是获利的主力，长周期 (R60-R250) 是安全的护栏。**建议保留长周期维度。**

## 5. 推荐最终策略 (Final Implementation)

### A. 最佳持仓周期测试 (Holding Period)
我们测试了两种模式：
1.  **固定持仓** (Fixed): 每隔 T 天全部换仓一次。
2.  **滚动持仓** (Rolling): 将资金分成 T 份，每天换仓 1/T 份。

| 周期 (T) | 固定模式收益 | 滚动模式收益 | 评价               |
| :------- | :----------- | :----------- | :----------------- |
| **T=1**  | **+110.0%**  | **+110.0%**  | 基准 (两者相同)    |
| **T=20** | **+128.6%**  | +97.4%       | **固定模式胜出**   |
| T=10     | +120.0%      | +107.0%      | 固定模式胜出       |
| T=5      | +83.4%       | +100.8%      | 滚动模式平滑了低谷 |

**深度洞察**：
*   **固定模式 (Winner)**：T=20 (固定月度换) 取得了 **+128.6%** 的最高收益。这说明"集中兵力"在趋势形成后锁仓待涨是更优解。
*   **滚动模式 (Loser)**：虽然滚动模式平滑了运气成分，但也"平滑"掉了暴利。它每天都在卖出还在上涨的强势基（因为到了T天期限），导致过早止盈，错失了主升浪的后半段。

**最终建议**：
**不要采用滚动持仓**。
请坚定执行 **T=20 固定日换仓**（例如每月1号或20号，或每隔20个交易日）。虽然有一定的运气成分，但从统计上看，集中持仓更能捕捉到 A 股特有的"疯牛"行情。



### B. 排除"924行情"后的表现对比

为了验证策略在"正常行情"下是否依然有效，我们将回测起点移至 **2024-11-01** (924行情主升浪结束后)。

| 策略                  | Post-924 (2024-11-01起) | 相对创业板 (+60.1%) |
| :-------------------- | :---------------------- | :------------------ |
| **Weak_T20_Score150** | **+152.1%**             | **🏆 +91.9%**        |
| Weak_T20_Score200     | +142.8%                 | +82.7%              |
| Weak_T20 (基准)       | +63.9%                  | +3.8%               |
| Weak_T10              | +61.8%                  | +1.6%               |

**关键发现：分数门槛策略 (Score Threshold)**

这是一个全新的发现，收益暴涨的原因是引入了 **"空仓机制"**：
*   **规则**：只有当精选池中至少有一只 ETF 的全市场排名得分 ≥ 150 分时，才建仓。否则持有现金。
*   **因果解释**：
    -   在 924 行情期间（9月-10月），所有标的都在涨，得分都很高（>150），策略全仓参与。但随后 10月中旬系统性回调，成分股普遍跌 15-20%，策略无法避开。
    -   排除 924 后，11月份市场震荡整理，**很多天没有标的达到 150 分门槛**，策略自动空仓。
    -   当 12月底/1月份新的强势板块（如机器人、AI）启动时，得分飙升，策略精准介入，吃到了完整的第二波主升浪。
*   **本质**：这个策略增加了**"择时"维度**（信号弱时持币观望），而不仅仅是"选股"。

### C. 推荐的最终策略 (Final Strategy)

综合所有测试，建议采用以下简洁策略：

*   **候选池**：Weak List (弱池, 135只)
*   **评分**：全市场排名 (R1/R3/R5/.../R250)
*   **入场条件**：Total Score ≥ **150**
*   **持仓周期**：**T=20** (固定月度换仓)
*   **无信号时**：**持有现金**，等待下一个换仓窗口

**因果逻辑链**：
1.  高流动性精选池 → 避免垃圾股陷阱。
2.  全市场排名 → 只买"绝对领先者"，而非"矮子里拔将军"。
3.  得分门槛 → 自动择时，弱市持币，强市重拳出击。
4.  T=20 固定 → 捕捉完整波段，减少交易摩擦。

### D. 更多风控手段 (可选)


## 5. 推荐实施方案

建议采用 **"全局强势选基策略" (Global Strength Strategy)** 并 **合并两个精选池**。

### 每日执行流程：
1.  **数据获取**：收盘后获取全市场 1700+ 只 ETF 的行情数据。
2.  **全局评分**：计算每只 ETF 的多周期动量得分。
3.  **双重过滤**：
    *   全市场排名 Top N。
    *   必须在 `Strong + Weak` 合并精选池中。
4.  **择时风控** (可选)：若大盘破位，暂停买入。
5.  **生成信号**：输出 Top 10。


## 5. 风险提示
*   **候选池依赖**：策略高度依赖 Excel 名单的质量。需定期（如季度）审视名单，确保涵盖市场热点。
*   **过拟合风险**：目前的参数 (R1=100分等) 是基于经验设定的，未来市场风格切换时可能需要微调。
*   **回测偏差**：Excel 名单可能包含了过去两年的"幸存者"（即表现不好已被剔除），实际实盘收益可能会低于回测值。

---
**附件**:
*   回测资金曲线图: [output/charts/market_comparison_fast.svg](file:///d:/claude/etf/output/charts/market_comparison_fast.svg)
*   每日模拟持仓明细: [output/data/backtest_result.csv](file:///d:/claude/etf/output/data/backtest_result.csv)
