# ETF 动量轮动策略 - 策略文档

> **版本**: v1.0 | **日期**: 2026-01-25 | **数据源**: 掘金量化 (MyQuant)

---

## 一、策略概述

### 1.1 核心逻辑 (一句话)

> **在全市场 1700+ 只 ETF 中找到"最强者"，只在精选的 150 只优质候选池中买入，月度换仓，弱信号时空仓。**

### 1.2 策略要素

| 维度         | 设定             | 说明                                                            |
| :----------- | :--------------- | :-------------------------------------------------------------- |
| **候选池**   | 精选名单 (150只) | 来自 `ETF合并筛选结果.xlsx`，已预筛选流动性好、规模大的优质 ETF |
| **评分体系** | 全市场排名       | 将每只 ETF 在全市场 1700+ 只中按动量因子排名                    |
| **入场门槛** | Score ≥ 150      | 只有得分达到 150 分的 ETF 才允许买入，否则持有现金              |
| **持仓周期** | T=20 (约1个月)   | 每 20 个交易日调仓一次                                          |
| **持仓数量** | Top 10 (最多)    | 选取得分最高的 10 只 ETF 等权持有                               |

---

## 二、策略因果链 (Why It Works)

```
┌─────────────────────────────────────────────────────────────────┐
│ 1. 精选候选池 (150只)                                            │
│    → 过滤垃圾ETF、低流动性标的                                    │
│    → 只在"好赛道"中选股                                          │
├─────────────────────────────────────────────────────────────────┤
│ 2. 全市场排名评分                                                │
│    → 确保买入的是"绝对领先者"，而非"矮子里拔将军"                  │
│    → 只有在全市场前15名的ETF才能获得高分                          │
├─────────────────────────────────────────────────────────────────┤
│ 3. Score≥150 门槛 (自动择时)                                     │
│    → 弱市/震荡市：无ETF达标 → 自动空仓，躲避回调                  │
│    → 强势市/主升浪：多只ETF达标 → 满仓进攻，捕获趋势              │
├─────────────────────────────────────────────────────────────────┤
│ 4. T=20 月度换仓                                                 │
│    → 捕捉完整波段 (A股热点周期约1个月)                            │
│    → 减少交易摩擦，降低"被震下车"概率                             │
└─────────────────────────────────────────────────────────────────┘
```

---

## 三、回测验证 (掘金量化数据)

### 3.1 核心指标

| 指标                  | 策略表现    | 创业板基准 | 超额收益   |
| :-------------------- | :---------- | :--------- | :--------- |
| **总收益 (Post-924)** | **+149.9%** | +60.1%     | **+89.8%** |
| **年化收益 (CAGR)**   | ~70%+       | ~40%       | +30%+      |
| **最大回撤**          | -25.2%      | -33.7%     | 更优       |
| **交易费用影响**      | -0.3%       | -          | 极低       |

> **回测区间**: 2024-11-01 ~ 2026-01-24 (排除924行情初期)

### 3.2 参数敏感性验证

我们对关键参数进行了全面扫描，确保策略稳健：

**Score 门槛扫描**:
| 门槛     | 收益      | 空仓比例 |
| :------- | :-------- | :------- |
| ≥100     | +113%     | 13%      |
| **≥150** | **+150%** | **27%**  |
| ≥200     | +136%     | 33%      |

**持仓周期扫描**:
| 周期     | 收益      |
| :------- | :-------- |
| T=10     | +120%     |
| **T=20** | **+129%** |
| T=30     | +107%     |

---

## 四、每日执行流程

### 4.1 数据获取 (收盘后)

```python
# 使用掘金量化 API 获取全市场 ETF 行情
from gm.api import *

# 登录
set_token('YOUR_TOKEN')

# 获取全市场 ETF 列表
etf_list = get_instrumentinfos(exchanges=['SHSE','SZSE'], sec_types=[6])

# 获取每只 ETF 的历史行情 (需要 R1/R3/R5/.../R250)
for etf in etf_list:
    history = history_n(etf.symbol, '1d', 250, end_time=today)
```

### 4.2 评分计算

```python
# 计算多周期收益率
def calc_returns(df, periods=[1,3,5,10,20,60,120,250]):
    results = {}
    for p in periods:
        results[f'R{p}'] = (df['close'].iloc[-1] / df['close'].iloc[-p-1] - 1) * 100
    return results

# 全市场排名 → 得分
# 规则: 某 ETF 在 R1 周期排名进入全市场前 15 名 → +100 分
#       某 ETF 在 R3 周期排名进入全市场前 15 名 → +70 分
#       ... (见下方权重表)
```

**评分权重表**:
| 周期     | 权重 (分) |
| :------- | :-------- |
| R1 (1日) | 100       |
| R3 (3日) | 70        |
| R5 (5日) | 50        |
| R10      | 30        |
| R20      | 20        |
| R60      | 15        |
| R120     | 10        |
| R250     | 5         |

### 4.3 选股逻辑

```
IF 今天是换仓日 (day_index % 20 == 0):
    1. 对全市场 ETF 按 Total Score 降序排列
    2. 过滤: 只保留在"精选名单"中的 ETF
    3. 过滤: Score < 150 的剔除
    4. 取 Top 10
    
    IF 无 ETF 满足条件:
        → 空仓 (持有现金)
    ELSE:
        → 等权买入 Top 10
```

### 4.4 换仓执行

| 场景     | 操作             |
| :------- | :--------------- |
| 新增持仓 | 开盘集合竞价买入 |
| 剔除持仓 | 开盘集合竞价卖出 |
| 继续持有 | 无操作           |

---

## 五、风险提示

| 风险类型       | 描述                                | 应对                 |
| :------------- | :---------------------------------- | :------------------- |
| **回撤风险**   | 最大回撤可达 25%                    | 心理准备，坚持执行   |
| **过拟合风险** | 参数 (Score≥150, T=20) 基于历史优化 | 定期回顾，适度调整   |
| **流动性风险** | 极端行情下 ETF 可能难以成交         | 使用限价单，分批建仓 |
| **名单依赖**   | 策略依赖精选名单质量                | 季度审视更新名单     |

---

## 六、附录

### 6.1 精选名单来源

文件: `ETF合并筛选结果.xlsx`
- 共 150 只 ETF
- 筛选标准: 高流动性、大规模、行业代表性

### 6.2 验证代码位置

| 文件                                                                       | 用途           |
| :------------------------------------------------------------------------- | :------------- |
| [backtest_compare_fast.py](file:///d:/claude/etf/backtest_compare_fast.py) | 主回测引擎     |
| [test_score_threshold.py](file:///d:/claude/etf/test_score_threshold.py)   | Score 门槛扫描 |
| [tune_holding_period.py](file:///d:/claude/etf/tune_holding_period.py)     | 持仓周期扫描   |
| [config.py](file:///d:/claude/etf/config.py)                               | 策略参数配置   |

### 6.3 联系方式

如有疑问，请联系策略开发团队。

---

**文档结束**
